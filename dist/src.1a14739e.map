{"version":3,"sources":["src\\index.js"],"names":["fileInput","document","getElementById","preview","preCtx","getContext","generateBtn","content","canvas","ctx","CANVASWIDTH","CANVASHEIGHT","fr","FileReader","addEventListener","getFileInfo","e","target","files","file","onload","src","result","readAsDataURL","text","value","drawImage","font","fillText","initCanvas","img","sw","width","sh","height","initGenerate"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,YAAYC,SAASC,cAAT,CAAwB,MAAxB,CAAlB;AACA,IAAMC,UAAUF,SAASC,cAAT,CAAwB,WAAxB,CAAhB;AACA,IAAME,SAASD,QAAQE,UAAR,CAAmB,IAAnB,CAAf;AACA,IAAMC,cAAcL,SAASC,cAAT,CAAwB,UAAxB,CAApB;AACA,IAAMK,UAAUN,SAASC,cAAT,CAAwB,WAAxB,CAAhB;;AAEA,IAAMM,SAASP,SAASC,cAAT,CAAwB,QAAxB,CAAf;AACA,IAAMO,MAAMD,OAAOH,UAAP,CAAkB,IAAlB,CAAZ;AACA,IAAMK,cAAc,GAApB;AACA,IAAMC,eAAe,GAArB;;AAEA,IAAMC,KAAK,IAAIC,UAAJ,EAAX;;AAEAb,UAAUc,gBAAV,CAA2B,QAA3B,EAAqC,aAAK;AACtCC,gBAAYC,EAAEC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAZ;AACH,CAFD;;AAIA;AACA,SAASH,WAAT,CAAsBI,IAAtB,EAA4B;AACxBP,OAAGQ,MAAH,GAAY,YAAM;AACdjB,gBAAQkB,GAAR,GAAcT,GAAGU,MAAjB;AACH,KAFD;AAGAV,OAAGW,aAAH,CAAiBJ,IAAjB;AACH;;AAEDb,YAAYQ,gBAAZ,CAA6B,OAA7B,EAAsC,aAAK;AACvC,QAAMU,OAAOjB,QAAQkB,KAArB;AACAhB,QAAIiB,SAAJ,CAAcvB,OAAd,EAAuB,CAAvB,EAA0B,CAA1B;AACAM,QAAIkB,IAAJ,GAAW,YAAX;AACAlB,QAAImB,QAAJ,CAAaJ,IAAb,EAAmB,GAAnB,EAAwB,GAAxB;AACH,CALD;;AAOA;AACA,SAASK,UAAT,GAAuB;AACnB,QAAMC,MAAM7B,SAASC,cAAT,CAAwB,QAAxB,CAAZ;AACA4B,QAAIV,MAAJ,GAAa,YAAM;AACf,YAAMW,KAAKD,IAAIE,KAAf;AACA,YAAMC,KAAKH,IAAII,MAAf;AACA9B,eAAOsB,SAAP,CAAiBI,GAAjB,EAAsB,CAAtB,EAAyB,CAAzB;AACH,KAJD;AAKAK;AACH;;AAED,SAASA,YAAT,GAAyB;AACrB3B,WAAOwB,KAAP,GAAetB,WAAf;AACAF,WAAO0B,MAAP,GAAgBvB,YAAhB;AACH;;AAEDkB","file":"src.1a14739e.map","sourceRoot":"..","sourcesContent":["const fileInput = document.getElementById('file')\r\nconst preview = document.getElementById('j-preview')\r\nconst preCtx = preview.getContext('2d')\r\nconst generateBtn = document.getElementById('generate')\r\nconst content = document.getElementById('j-content')\r\n\r\nconst canvas = document.getElementById('canvas')\r\nconst ctx = canvas.getContext('2d')\r\nconst CANVASWIDTH = 500\r\nconst CANVASHEIGHT = 500\r\n\r\nconst fr = new FileReader()\r\n\r\nfileInput.addEventListener('change', e => {\r\n    getFileInfo(e.target.files[0])\r\n})\r\n\r\n// 读取文件 && 预览\r\nfunction getFileInfo (file) {\r\n    fr.onload = () => {\r\n        preview.src = fr.result\r\n    }\r\n    fr.readAsDataURL(file)\r\n}\r\n\r\ngenerateBtn.addEventListener('click', e => {\r\n    const text = content.value\r\n    ctx.drawImage(preview, 0, 0)\r\n    ctx.font = \"48px serif\";\r\n    ctx.fillText(text, 100, 100)\r\n})\r\n\r\n// 初始化图片\r\nfunction initCanvas () {\r\n    const img = document.getElementById('j-init')\r\n    img.onload = () => {\r\n        const sw = img.width\r\n        const sh = img.height\r\n        preCtx.drawImage(img, 0, 0)\r\n    }\r\n    initGenerate()\r\n}\r\n\r\nfunction initGenerate () {\r\n    canvas.width = CANVASWIDTH\r\n    canvas.height = CANVASHEIGHT\r\n}\r\n\r\ninitCanvas()"]}